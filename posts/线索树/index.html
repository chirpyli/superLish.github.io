<!DOCTYPE html><html lang="en-US" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="pv-cache-enabled" content="false"><meta name="generator" content="Jekyll v4.2.0" /><meta property="og:title" content="线索树" /><meta name="author" content="lisheng" /><meta property="og:locale" content="en_US" /><meta name="description" content="线索树 在二叉查找树中，深度优先遍历的实现有递归和非递归两种方法，非递归使用了栈，递归方式本质上也是栈的形式，当树非常大且树不平衡时，最坏的情况是栈存储了整颗树，这是非常不好的情况。有没有不用栈的方式实现深度优先遍历呢？线索树是其中的一种方法。遍历本质上是将非线性结构转为线性结构，这里可以认为遍历的过程是类似于一个链表的访问过程，每个节点都有前驱和后继（特殊节点除外）。如果二叉查找树节点中存储一个前驱和后继，这个问题就解决了。但是如果新增两个指针指向前驱和后继空间代价较大，可以利用二叉查找树中空闲的指针域外加一个标识位来表明这是一个右子节点指针还是一个后继节点指针。" /><meta property="og:description" content="线索树 在二叉查找树中，深度优先遍历的实现有递归和非递归两种方法，非递归使用了栈，递归方式本质上也是栈的形式，当树非常大且树不平衡时，最坏的情况是栈存储了整颗树，这是非常不好的情况。有没有不用栈的方式实现深度优先遍历呢？线索树是其中的一种方法。遍历本质上是将非线性结构转为线性结构，这里可以认为遍历的过程是类似于一个链表的访问过程，每个节点都有前驱和后继（特殊节点除外）。如果二叉查找树节点中存储一个前驱和后继，这个问题就解决了。但是如果新增两个指针指向前驱和后继空间代价较大，可以利用二叉查找树中空闲的指针域外加一个标识位来表明这是一个右子节点指针还是一个后继节点指针。" /><link rel="canonical" href="https://superlish.github.io/superLish.github.io/posts/%E7%BA%BF%E7%B4%A2%E6%A0%91/" /><meta property="og:url" content="https://superlish.github.io/superLish.github.io/posts/%E7%BA%BF%E7%B4%A2%E6%A0%91/" /><meta property="og:site_name" content="ChirpyLi" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2018-08-15T08:55:00+08:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="线索树" /><meta name="twitter:site" content="@twitter_username" /><meta name="twitter:creator" content="@lisheng" /><meta name="google-site-verification" content="google_meta_tag_verification" /> <script type="application/ld+json"> {"description":"线索树 在二叉查找树中，深度优先遍历的实现有递归和非递归两种方法，非递归使用了栈，递归方式本质上也是栈的形式，当树非常大且树不平衡时，最坏的情况是栈存储了整颗树，这是非常不好的情况。有没有不用栈的方式实现深度优先遍历呢？线索树是其中的一种方法。遍历本质上是将非线性结构转为线性结构，这里可以认为遍历的过程是类似于一个链表的访问过程，每个节点都有前驱和后继（特殊节点除外）。如果二叉查找树节点中存储一个前驱和后继，这个问题就解决了。但是如果新增两个指针指向前驱和后继空间代价较大，可以利用二叉查找树中空闲的指针域外加一个标识位来表明这是一个右子节点指针还是一个后继节点指针。","url":"https://superlish.github.io/superLish.github.io/posts/%E7%BA%BF%E7%B4%A2%E6%A0%91/","headline":"线索树","dateModified":"2018-08-15T08:55:00+08:00","@type":"BlogPosting","datePublished":"2018-08-15T08:55:00+08:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://superlish.github.io/superLish.github.io/posts/%E7%BA%BF%E7%B4%A2%E6%A0%91/"},"author":{"@type":"Person","name":"lisheng"},"@context":"https://schema.org"}</script><title>线索树 | ChirpyLi</title><link rel="shortcut icon" href="/superLish.github.io/assets/img/favicons/favicon.ico" type="image/x-icon"><link rel="icon" href="/superLish.github.io/assets/img/favicons/favicon.ico" type="image/x-icon"><link rel="apple-touch-icon" href="/superLish.github.io/assets/img/favicons/apple-icon.png"><link rel="apple-touch-icon" href="/superLish.github.io/assets/img/favicons/apple-icon-precomposed.png"><link rel="apple-touch-icon" sizes="57x57" href="/superLish.github.io/assets/img/favicons/apple-icon-57x57.png"><link rel="apple-touch-icon" sizes="60x60" href="/superLish.github.io/assets/img/favicons/apple-icon-60x60.png"><link rel="apple-touch-icon" sizes="72x72" href="/superLish.github.io/assets/img/favicons/apple-icon-72x72.png"><link rel="apple-touch-icon" sizes="76x76" href="/superLish.github.io/assets/img/favicons/apple-icon-76x76.png"><link rel="apple-touch-icon" sizes="114x114" href="/superLish.github.io/assets/img/favicons/apple-icon-114x114.png"><link rel="apple-touch-icon" sizes="120x120" href="/superLish.github.io/assets/img/favicons/apple-icon-120x120.png"><link rel="apple-touch-icon" sizes="144x144" href="/superLish.github.io/assets/img/favicons/apple-icon-144x144.png"><link rel="apple-touch-icon" sizes="152x152" href="/superLish.github.io/assets/img/favicons/apple-icon-152x152.png"><link rel="apple-touch-icon" sizes="180x180" href="/superLish.github.io/assets/img/favicons/apple-icon-180x180.png"><link rel="icon" type="image/png" sizes="192x192" href="/superLish.github.io/assets/img/favicons/android-icon-192x192.png"><link rel="icon" type="image/png" sizes="32x32" href="/superLish.github.io/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="96x96" href="/superLish.github.io/assets/img/favicons/favicon-96x96.png"><link rel="icon" type="image/png" sizes="16x16" href="/superLish.github.io/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/superLish.github.io/assets/img/favicons/manifest.json"><meta name='msapplication-config' content='/superLish.github.io/assets/img/favicons/browserconfig.xml'><meta name="msapplication-TileColor" content="#ffffff"><meta name="msapplication-TileImage" content="/superLish.github.io/assets/img/favicons/ms-icon-144x144.png"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="preconnect" href="cdn.jsdelivr.net"><link rel="dns-prefetch" href="cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha256-LA89z+k9fjgMKQ/kq4OO2Mrf8VltYml/VES+Rg0fh20=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css" integrity="sha256-+N4/V/SbAFiW1MPBCXnfnP9QSN3+Keu+NlB+0ev/YKQ=" crossorigin="anonymous"><link rel="stylesheet" href="/superLish.github.io/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script defer src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.15.0,npm/bootstrap@4/dist/js/bootstrap.min.js"></script> <script defer src="/superLish.github.io/assets/js/dist/post.min.js"></script> <script defer src="/superLish.github.io/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id="></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', ''); }); </script><body data-spy="scroll" data-target="#toc"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/superLish.github.io/" alt="avatar" class="mx-auto"> <img src="https://cdn.jsdelivr.net/gh/cotes2020/chirpy-images/commons/avatar.jpg" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/superLish.github.io/">ChirpyLi</a></div><div class="site-subtitle font-italic">love yourself</div></div><ul class="w-100"><li class="nav-item"> <a href="/superLish.github.io/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/superLish.github.io/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/superLish.github.io/tags/" class="nav-link"> <i class="fa-fw fas fa-tags ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/superLish.github.io/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/superLish.github.io/about/" class="nav-link"> <i class="fa-fw fas fa-info ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center"> <a href="https://github.com/superLish" aria-label="github" class="order-3" target="_blank" rel="noopener"> <i class="fab fa-github-alt"></i> </a> <span class="icon-border order-2"></span> <span id="mode-toggle-wrapper" class="order-1"> <i class="mode-toggle fas fa-adjust"></i> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } var self = this; /* always follow the system prefers */ this.sysDarkPrefers.addListener(function() { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.updateMermaid(); }); } /* constructor() */ setDark() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_KEY); sessionStorage.removeItem(ModeToggle.MODE_KEY); } get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode == ModeToggle.DARK_MODE; } get isLightMode() { return this.mode == ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer) ) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } updateMermaid() { if (typeof mermaid !== "undefined") { let expectedTheme = (this.modeStatus === ModeToggle.DARK_MODE? "dark" : "default"); let config = { theme: expectedTheme }; /* re-render the SVG › <https://github.com/mermaid-js/mermaid/issues/311#issuecomment-332557344> */ $(".mermaid").each(function() { let svgCode = $(this).prev().children().html(); $(this).removeAttr("data-processed"); $(this).html(svgCode); }); mermaid.initialize(config); mermaid.init(undefined, ".mermaid"); } } flipMode() { if (this.hasMode) { if (this.isSysDarkPrefer) { if (this.isLightMode) { this.clearMode(); } else { this.setLight(); } } else { if (this.isDarkMode) { this.clearMode(); } else { this.setDark(); } } } else { if (this.isSysDarkPrefer) { this.setLight(); } else { this.setDark(); } } this.updateMermaid(); } /* flipMode() */ } /* ModeToggle */ let toggle = new ModeToggle(); $(".mode-toggle").click(function() { toggle.flipMode(); }); </script> </span></div></div><div id="topbar-wrapper" class="row justify-content-center topbar-down"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/superLish.github.io/"> Posts </a> </span> <span>线索树</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="post-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>线索树</h1><div class="post-meta text-muted d-flex flex-column"><div> <span class="timeago " data-toggle="tooltip" data-placement="bottom" title="Wed, Aug 15, 2018, 8:55 AM +0800" > Aug 15, 2018 <i class="unloaded">2018-08-15T08:55:00+08:00</i> </span> by <span class="author"> lisheng </span></div><div> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="1319 words">7 min</span></div></div><div class="post-content"><h3 id="线索树">线索树</h3><p>在二叉查找树中，深度优先遍历的实现有递归和非递归两种方法，非递归使用了栈，递归方式本质上也是栈的形式，当树非常大且树不平衡时，最坏的情况是栈存储了整颗树，这是非常不好的情况。有没有不用栈的方式实现深度优先遍历呢？线索树是其中的一种方法。遍历本质上是将非线性结构转为线性结构，这里可以认为遍历的过程是类似于一个链表的访问过程，每个节点都有前驱和后继（特殊节点除外）。如果二叉查找树节点中存储一个前驱和后继，这个问题就解决了。但是如果新增两个指针指向前驱和后继空间代价较大，可以利用二叉查找树中空闲的指针域外加一个标识位来表明这是一个右子节点指针还是一个后继节点指针。</p><p>具体实现时，在插入节点时需要多计算一个后继，虽增加了插入操作的开销但降低了遍历过程中的空间复杂度（对空间资源这块有增有减，减的是遍历过程中无需用栈，增的是标识位）。</p><p>线索树代码实现<a href="https://github.com/superLish/superLish.github.io/blob/master/_posts/data-structure/tree/threadtree.h">threadtree.h</a></p><div class="language-c++ highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
</pre><td class="rouge-code"><pre><span class="cp">#pragma once
#include&lt;iostream&gt;
</span><span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>

<span class="k">template</span><span class="o">&lt;</span><span class="k">class</span> <span class="nc">T</span><span class="p">&gt;</span>
<span class="k">class</span> <span class="nc">ThreadedNode</span> <span class="p">{</span>
<span class="nl">public:</span>
    <span class="n">ThreadedNode</span><span class="p">()</span> <span class="p">{</span> 
        <span class="n">left</span> <span class="o">=</span> <span class="n">right</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> 
    <span class="p">}</span>
    <span class="n">ThreadedNode</span><span class="p">(</span><span class="k">const</span> <span class="n">T</span><span class="o">&amp;</span> <span class="n">el</span><span class="p">,</span> <span class="n">ThreadedNode</span> <span class="o">*</span><span class="n">l</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">ThreadedNode</span> <span class="o">*</span><span class="n">r</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">key</span> <span class="o">=</span> <span class="n">el</span><span class="p">;</span> <span class="n">left</span> <span class="o">=</span> <span class="n">l</span><span class="p">;</span> <span class="n">right</span> <span class="o">=</span> <span class="n">r</span><span class="p">;</span> <span class="n">successor</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> 
    <span class="p">}</span>
    <span class="n">T</span> <span class="n">key</span><span class="p">;</span>
    <span class="n">ThreadedNode</span> <span class="o">*</span><span class="n">left</span><span class="p">,</span> <span class="o">*</span><span class="n">right</span><span class="p">;</span>
    <span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">successor</span> <span class="o">:</span> <span class="mi">1</span><span class="p">;</span>     <span class="c1">// 这里标识标识右指针是右子节点指针还是后继节点指针，也可以再增加一个左标识位，这里实现方式为只用一个标识位</span>
<span class="p">};</span>

<span class="k">template</span><span class="o">&lt;</span><span class="k">class</span> <span class="nc">T</span><span class="p">&gt;</span>
<span class="k">class</span> <span class="nc">ThreadedTree</span> <span class="p">{</span>
<span class="nl">public:</span>
    <span class="n">ThreadedTree</span><span class="p">()</span>  <span class="p">{</span>
        <span class="n">root</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="kt">void</span> <span class="n">clear</span><span class="p">()</span> <span class="p">{</span>
        <span class="n">clear</span><span class="p">(</span><span class="n">root</span><span class="p">);</span> <span class="n">root</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="o">~</span><span class="n">ThreadedTree</span><span class="p">()</span> <span class="p">{</span>
        <span class="n">clear</span><span class="p">();</span>
    <span class="p">}</span>
    <span class="kt">void</span> <span class="k">virtual</span> <span class="n">visit</span><span class="p">(</span><span class="n">ThreadedNode</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;*</span> <span class="n">p</span><span class="p">)</span> <span class="p">{</span> 
        <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">p</span><span class="o">-&gt;</span><span class="n">key</span> <span class="o">&lt;&lt;</span> <span class="s">" "</span><span class="p">;</span>
    <span class="p">}</span> 
    <span class="kt">void</span> <span class="n">preorder</span><span class="p">();</span>
    <span class="kt">void</span> <span class="n">inorder</span><span class="p">();</span>
    <span class="kt">void</span> <span class="n">postorder</span><span class="p">();</span>
    <span class="kt">void</span> <span class="n">insert</span><span class="p">(</span><span class="k">const</span> <span class="n">T</span><span class="o">&amp;</span><span class="p">);</span>
<span class="nl">protected:</span>
    <span class="n">ThreadedNode</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;*</span> <span class="n">root</span><span class="p">;</span>
    <span class="kt">void</span> <span class="n">clear</span><span class="p">(</span><span class="n">ThreadedNode</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;*</span><span class="p">);</span>
<span class="p">};</span>

<span class="k">template</span><span class="o">&lt;</span><span class="k">class</span> <span class="nc">T</span><span class="p">&gt;</span>
<span class="kt">void</span> <span class="n">ThreadedTree</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;::</span><span class="n">clear</span><span class="p">(</span><span class="n">ThreadedNode</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;*</span><span class="n">p</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">p</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
         <span class="n">clear</span><span class="p">(</span><span class="n">p</span><span class="o">-&gt;</span><span class="n">left</span><span class="p">);</span>
         <span class="k">if</span> <span class="p">(</span><span class="n">p</span><span class="o">-&gt;</span><span class="n">successor</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="c1">// go to the right only if</span>
              <span class="n">clear</span><span class="p">(</span><span class="n">p</span><span class="o">-&gt;</span><span class="n">right</span><span class="p">);</span>  <span class="c1">// it is a descendant;</span>
         <span class="k">delete</span> <span class="n">p</span><span class="p">;</span>
     <span class="p">}</span>
<span class="p">}</span>

<span class="c1">// 插入节点时，后继指针指向最近一个大于自己的节点  </span>
<span class="k">template</span><span class="o">&lt;</span><span class="k">class</span> <span class="nc">T</span><span class="p">&gt;</span>
<span class="kt">void</span> <span class="n">ThreadedTree</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;::</span><span class="n">insert</span><span class="p">(</span><span class="k">const</span> <span class="n">T</span><span class="o">&amp;</span> <span class="n">el</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">ThreadedNode</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span> <span class="o">*</span><span class="n">p</span><span class="p">,</span> <span class="o">*</span><span class="n">prev</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="o">*</span><span class="n">newNode</span><span class="p">;</span>
    <span class="n">newNode</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ThreadedNode</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="p">(</span><span class="n">el</span><span class="p">);</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">root</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>              <span class="c1">// tree is empty;</span>
        <span class="n">root</span> <span class="o">=</span> <span class="n">newNode</span><span class="p">;</span>
        <span class="k">return</span><span class="p">;</span>
     <span class="p">}</span>

     <span class="n">p</span> <span class="o">=</span> <span class="n">root</span><span class="p">;</span>                   <span class="c1">// find a place to insert newNode;</span>
     <span class="k">while</span> <span class="p">(</span><span class="n">p</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
         <span class="n">prev</span> <span class="o">=</span> <span class="n">p</span><span class="p">;</span>
         <span class="k">if</span> <span class="p">(</span><span class="n">p</span><span class="o">-&gt;</span><span class="n">key</span> <span class="o">&gt;</span> <span class="n">el</span><span class="p">)</span>
              <span class="n">p</span> <span class="o">=</span> <span class="n">p</span><span class="o">-&gt;</span><span class="n">left</span><span class="p">;</span>
         <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">p</span><span class="o">-&gt;</span><span class="n">successor</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="c1">// go to the right node only if it </span>
              <span class="n">p</span> <span class="o">=</span> <span class="n">p</span><span class="o">-&gt;</span><span class="n">right</span><span class="p">;</span>    <span class="c1">// is a descendant, not a successor;</span>
         <span class="k">else</span> <span class="k">break</span><span class="p">;</span>              <span class="c1">// don't follow successor link;</span>
     <span class="p">}</span>

     <span class="k">if</span> <span class="p">(</span><span class="n">prev</span><span class="o">-&gt;</span><span class="n">key</span> <span class="o">&gt;</span> <span class="n">el</span><span class="p">)</span> <span class="p">{</span>        <span class="c1">// if newNode is left child of</span>
          <span class="n">prev</span><span class="o">-&gt;</span><span class="n">left</span>  <span class="o">=</span> <span class="n">newNode</span><span class="p">;</span>  <span class="c1">// its parent, the parent becomes</span>
          <span class="n">newNode</span><span class="o">-&gt;</span><span class="n">successor</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="c1">// also its successor;</span>
          <span class="n">newNode</span><span class="o">-&gt;</span><span class="n">right</span> <span class="o">=</span> <span class="n">prev</span><span class="p">;</span>
     <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">prev</span><span class="o">-&gt;</span><span class="n">successor</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span><span class="c1">// if the parent of newNode</span>
          <span class="n">newNode</span><span class="o">-&gt;</span><span class="n">successor</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="c1">// is not the right-most node,</span>
          <span class="n">prev</span><span class="o">-&gt;</span><span class="n">successor</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>    <span class="c1">// make parent's successor</span>
          <span class="n">newNode</span><span class="o">-&gt;</span><span class="n">right</span> <span class="o">=</span> <span class="n">prev</span><span class="o">-&gt;</span><span class="n">right</span><span class="p">;</span> <span class="c1">// newNode's successor,</span>
          <span class="n">prev</span><span class="o">-&gt;</span><span class="n">right</span> <span class="o">=</span> <span class="n">newNode</span><span class="p">;</span>
     <span class="p">}</span> <span class="k">else</span> <span class="n">prev</span><span class="o">-&gt;</span><span class="n">right</span> <span class="o">=</span> <span class="n">newNode</span><span class="p">;</span>  <span class="c1">// otherwise it has no successor;</span>
<span class="p">}</span>

<span class="k">template</span><span class="o">&lt;</span><span class="k">class</span> <span class="nc">T</span><span class="p">&gt;</span>
<span class="kt">void</span> <span class="n">ThreadedTree</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;::</span><span class="n">inorder</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">ThreadedNode</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span> <span class="o">*</span><span class="n">prev</span><span class="p">,</span> <span class="o">*</span><span class="n">p</span> <span class="o">=</span> <span class="n">root</span><span class="p">;</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">p</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>                 <span class="c1">// process only non-empty trees;</span>
        <span class="k">while</span> <span class="p">(</span><span class="n">p</span><span class="o">-&gt;</span><span class="n">left</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">)</span>      <span class="c1">// go to the leftmost node;</span>
            <span class="n">p</span> <span class="o">=</span> <span class="n">p</span><span class="o">-&gt;</span><span class="n">left</span><span class="p">;</span>
        <span class="k">while</span> <span class="p">(</span><span class="n">p</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">visit</span><span class="p">(</span><span class="n">p</span><span class="p">);</span>
            <span class="n">prev</span> <span class="o">=</span> <span class="n">p</span><span class="p">;</span>
            <span class="n">p</span> <span class="o">=</span> <span class="n">p</span><span class="o">-&gt;</span><span class="n">right</span><span class="p">;</span>         <span class="c1">// go to the right node and only</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">p</span> <span class="o">!=</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="n">prev</span><span class="o">-&gt;</span><span class="n">successor</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="c1">// if it is a descendant</span>
                <span class="k">while</span> <span class="p">(</span><span class="n">p</span><span class="o">-&gt;</span><span class="n">left</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">)</span>   <span class="c1">// go to the leftmost node,</span>
                    <span class="n">p</span> <span class="o">=</span> <span class="n">p</span><span class="o">-&gt;</span><span class="n">left</span><span class="p">;</span>  <span class="c1">// otherwise visit the successor;</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="k">template</span><span class="o">&lt;</span><span class="k">class</span> <span class="nc">T</span><span class="p">&gt;</span>
<span class="kt">void</span> <span class="n">ThreadedTree</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;::</span><span class="n">preorder</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">ThreadedNode</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span> <span class="o">*</span><span class="n">p</span> <span class="o">=</span> <span class="n">root</span><span class="p">;</span>
	<span class="k">while</span> <span class="p">(</span><span class="n">p</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>              <span class="c1">// process only non-empty trees;</span>
        <span class="n">visit</span><span class="p">(</span><span class="n">p</span><span class="p">);</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">p</span><span class="o">-&gt;</span><span class="n">left</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">)</span>
             <span class="n">p</span> <span class="o">=</span> <span class="n">p</span><span class="o">-&gt;</span><span class="n">left</span><span class="p">;</span>
        <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">p</span><span class="o">-&gt;</span><span class="n">right</span> <span class="o">!=</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="n">p</span><span class="o">-&gt;</span><span class="n">successor</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span>
             <span class="n">p</span> <span class="o">=</span> <span class="n">p</span><span class="o">-&gt;</span><span class="n">right</span><span class="p">;</span>
        <span class="k">else</span> <span class="p">{</span>                    <span class="c1">// if p is a leaf, go through the chain</span>
             <span class="k">while</span> <span class="p">(</span><span class="n">p</span><span class="o">-&gt;</span><span class="n">successor</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)</span> <span class="c1">// of its</span>
                 <span class="n">p</span> <span class="o">=</span> <span class="n">p</span><span class="o">-&gt;</span><span class="n">right</span><span class="p">;</span>    <span class="c1">// (already visited) inorder successors</span>
             <span class="n">p</span> <span class="o">=</span> <span class="n">p</span><span class="o">-&gt;</span><span class="n">right</span><span class="p">;</span>        <span class="c1">// and restart with the right descendant</span>
        <span class="p">}</span>                         <span class="c1">// of the last successor;</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="k">template</span><span class="o">&lt;</span><span class="k">class</span> <span class="nc">T</span><span class="p">&gt;</span>
<span class="kt">void</span> <span class="n">ThreadedTree</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;::</span><span class="n">postorder</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">ThreadedNode</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span> <span class="o">*</span><span class="n">q</span><span class="p">,</span> <span class="o">*</span><span class="n">r</span><span class="p">,</span> <span class="o">*</span><span class="n">s</span><span class="p">,</span> <span class="o">*</span><span class="n">p</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ThreadedNode</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">*</span><span class="n">rightmost</span><span class="p">,</span> <span class="o">*</span><span class="n">dummy</span> <span class="o">=</span> <span class="n">p</span><span class="p">;</span>
    <span class="n">p</span><span class="o">-&gt;</span><span class="n">left</span> <span class="o">=</span> <span class="n">root</span><span class="p">;</span>
    <span class="k">for</span> <span class="p">(</span><span class="n">rightmost</span> <span class="o">=</span> <span class="n">root</span><span class="p">;</span> <span class="n">rightmost</span><span class="o">-&gt;</span><span class="n">right</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">rightmost</span> <span class="o">=</span> <span class="n">rightmost</span><span class="o">-&gt;</span><span class="n">right</span><span class="p">);</span>
    <span class="n">rightmost</span><span class="o">-&gt;</span><span class="n">successor</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
    <span class="n">rightmost</span><span class="o">-&gt;</span><span class="n">right</span> <span class="o">=</span> <span class="n">p</span><span class="p">;</span>
    <span class="k">enum</span> <span class="n">direction</span> <span class="p">{</span><span class="n">goLeft</span><span class="p">,</span> <span class="n">goRight</span><span class="p">,</span> <span class="n">visiting</span><span class="p">}</span> <span class="n">dir</span> <span class="o">=</span> <span class="n">goLeft</span><span class="p">;</span>
    <span class="k">while</span> <span class="p">(</span><span class="n">p</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">dir</span> <span class="o">==</span> <span class="n">goLeft</span><span class="p">)</span>
             <span class="k">if</span> <span class="p">(</span><span class="n">p</span><span class="o">-&gt;</span><span class="n">left</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">)</span>
                  <span class="n">p</span> <span class="o">=</span> <span class="n">p</span><span class="o">-&gt;</span><span class="n">left</span><span class="p">;</span>
             <span class="k">else</span> <span class="n">dir</span> <span class="o">=</span> <span class="n">goRight</span><span class="p">;</span>
        <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">dir</span> <span class="o">==</span> <span class="n">goRight</span><span class="p">)</span>
             <span class="k">if</span> <span class="p">(</span><span class="n">p</span><span class="o">-&gt;</span><span class="n">right</span> <span class="o">!=</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="n">p</span><span class="o">-&gt;</span><span class="n">successor</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
                  <span class="n">p</span> <span class="o">=</span> <span class="n">p</span><span class="o">-&gt;</span><span class="n">right</span><span class="p">;</span>
                  <span class="n">dir</span> <span class="o">=</span> <span class="n">goLeft</span><span class="p">;</span>
             <span class="p">}</span>
             <span class="k">else</span> <span class="n">dir</span> <span class="o">=</span> <span class="n">visiting</span><span class="p">;</span>
        <span class="k">else</span> <span class="p">{</span>
             <span class="k">if</span> <span class="p">(</span><span class="n">p</span> <span class="o">==</span> <span class="n">dummy</span><span class="p">)</span> <span class="p">{</span>
                  <span class="n">rightmost</span><span class="o">-&gt;</span><span class="n">right</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="c1">// restore original setting of</span>
                  <span class="n">rightmost</span><span class="o">-&gt;</span><span class="n">successor</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="c1">// rightmost node;</span>
                  <span class="k">delete</span> <span class="n">dummy</span><span class="p">;</span>
                  <span class="k">return</span><span class="p">;</span>
             <span class="p">}</span>
             <span class="n">visit</span><span class="p">(</span><span class="n">p</span><span class="p">);</span>
             <span class="k">if</span> <span class="p">(</span><span class="n">p</span><span class="o">-&gt;</span><span class="n">right</span> <span class="o">!=</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="n">p</span><span class="o">-&gt;</span><span class="n">right</span><span class="o">-&gt;</span><span class="n">left</span> <span class="o">==</span> <span class="n">p</span><span class="p">)</span> <span class="p">{</span> <span class="c1">// parent == successor;</span>
                  <span class="n">p</span> <span class="o">=</span> <span class="n">p</span><span class="o">-&gt;</span><span class="n">right</span><span class="p">;</span>
                  <span class="n">dir</span> <span class="o">=</span> <span class="n">goRight</span><span class="p">;</span>
             <span class="p">}</span>
             <span class="k">else</span> <span class="p">{</span>
                  <span class="c1">// scan a right-extended chain of nodes and</span>
                  <span class="c1">// reverse right pointers;</span>
                  <span class="k">for</span> <span class="p">(</span><span class="n">q</span> <span class="o">=</span> <span class="n">p</span><span class="o">-&gt;</span><span class="n">right</span><span class="o">-&gt;</span><span class="n">left</span><span class="p">,</span> <span class="n">r</span> <span class="o">=</span> <span class="n">q</span><span class="o">-&gt;</span><span class="n">right</span><span class="p">,</span> <span class="n">s</span> <span class="o">=</span> <span class="n">r</span><span class="o">-&gt;</span><span class="n">right</span><span class="p">;</span>
                       <span class="n">r</span> <span class="o">!=</span> <span class="n">p</span><span class="p">;</span> <span class="n">q</span> <span class="o">=</span> <span class="n">r</span><span class="p">,</span> <span class="n">r</span> <span class="o">=</span> <span class="n">s</span><span class="p">,</span> <span class="n">s</span> <span class="o">=</span> <span class="n">s</span><span class="o">-&gt;</span><span class="n">right</span><span class="p">)</span>
                      <span class="n">r</span><span class="o">-&gt;</span><span class="n">right</span> <span class="o">=</span> <span class="n">q</span><span class="p">;</span>
                  <span class="c1">// scan the chain backwards, visit each node, and</span>
                  <span class="c1">// restore the original setting of right pointers;</span>
                  <span class="k">for</span> <span class="p">(</span><span class="n">s</span> <span class="o">=</span> <span class="n">q</span><span class="o">-&gt;</span><span class="n">right</span><span class="p">;</span> <span class="n">q</span> <span class="o">!=</span> <span class="n">p</span><span class="o">-&gt;</span><span class="n">right</span><span class="o">-&gt;</span><span class="n">left</span><span class="p">;</span>
                       <span class="n">q</span><span class="o">-&gt;</span><span class="n">right</span> <span class="o">=</span> <span class="n">r</span><span class="p">,</span> <span class="n">r</span> <span class="o">=</span> <span class="n">q</span><span class="p">,</span> <span class="n">q</span> <span class="o">=</span> <span class="n">s</span><span class="p">,</span> <span class="n">s</span> <span class="o">=</span> <span class="n">s</span><span class="o">-&gt;</span><span class="n">right</span><span class="p">)</span>
                      <span class="n">visit</span><span class="p">(</span><span class="n">q</span><span class="p">);</span>
                  <span class="n">visit</span><span class="p">(</span><span class="n">q</span><span class="p">);</span>
                  <span class="n">p</span> <span class="o">=</span> <span class="n">p</span><span class="o">-&gt;</span><span class="n">right</span><span class="p">;</span>
                  <span class="n">dir</span> <span class="o">=</span> <span class="n">goRight</span><span class="p">;</span>
             <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></table></code></div></div></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/superLish.github.io/categories/cs/'>CS</a>, <a href='/superLish.github.io/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/'>数据结构与算法</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/superLish.github.io/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" class="post-tag no-text-decoration" >数据结构</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <i class="fa-fw fas fa-link small" onclick="copyLink()" data-toggle="tooltip" data-placement="top" title="Copy link"></i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down"><div class="access"><div id="access-lastmod" class="post"> <span>Recent Update</span><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/superLish.github.io/posts/%E6%97%A0%E5%BA%8F%E6%95%B0%E7%BB%84%E4%B8%AD%E8%BF%94%E5%9B%9E%E7%AC%ACk%E5%A4%A7%E7%9A%84%E6%95%B0/">算法题：无序数组中返回第k大的数.md</a><li><a href="/superLish.github.io/posts/%E6%8E%92%E5%BA%8F/">排序</a><li><a href="/superLish.github.io/posts/%E7%BD%91%E7%BB%9C%E9%94%99%E8%AF%AF-Destination_unreachable-Host_administratively_prohibited/">网络错误:Destination_unreachable:Host_administratively_prohibited</a><li><a href="/superLish.github.io/posts/TCP%E4%B8%89%E6%AC%A1%E6%8F%A1%E6%89%8B%E4%B8%8E%E5%9B%9B%E6%AC%A1%E5%88%86%E6%89%8B/">TCP三次握手与四次分手</a><li><a href="/superLish.github.io/posts/TCP%E7%9A%84%E5%B7%A5%E4%BD%9C%E9%80%BB%E8%BE%91/">谈谈TCP</a></ul></div><div id="access-tags"> <span>Trending Tags</span><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/superLish.github.io/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/">数据结构</a> <a class="post-tag" href="/superLish.github.io/tags/rust/">Rust</a> <a class="post-tag" href="/superLish.github.io/tags/crypto/">crypto</a> <a class="post-tag" href="/superLish.github.io/tags/blockchain/">Blockchain</a> <a class="post-tag" href="/superLish.github.io/tags/tcp-ip/">TCP/IP</a> <a class="post-tag" href="/superLish.github.io/tags/elk/">ELK</a> <a class="post-tag" href="/superLish.github.io/tags/%E5%88%86%E5%B8%83%E5%BC%8F/">分布式</a> <a class="post-tag" href="/superLish.github.io/tags/linux/">linux</a> <a class="post-tag" href="/superLish.github.io/tags/c/">C</a> <a class="post-tag" href="/superLish.github.io/tags/ethereum/">Ethereum</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"> <span class="pl-3 pt-2 mb-2">Contents</span><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="post-extend-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/superLish.github.io/posts/%E9%98%9F%E5%88%97%E7%9A%84%E5%AE%9E%E7%8E%B0/"><div class="card-body"> <span class="timeago small" > Feb 14, 2015 <i class="unloaded">2015-02-14T08:55:00+08:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>队列的实现</h3><div class="text-muted small"><p> 队列 队列的核心性质就是先入先出，类似于排队，在涉及到很多调度方面的问题的时候，比如线程池的任务调度等，每个工作线程从任务队列中取任务执行。还有一种队列经常会用到，那就是优先队列，优先队列的内容放到了堆那部分去总结，因为优先队列的实现底层就是堆。 队列是一种先入先出的数据结构，其操作与栈类似。有如下操作： clear() —— 清空队列 empty() —— 判断队列是否为空 ...</p></div></div></a></div><div class="card"> <a href="/superLish.github.io/posts/%E4%B8%A4%E4%B8%AA%E6%A0%88%E5%AE%9E%E7%8E%B0%E4%B8%80%E4%B8%AA%E9%98%9F%E5%88%97/"><div class="card-body"> <span class="timeago small" > Jan 14, 2016 <i class="unloaded">2016-01-14T08:55:00+08:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>两个栈实现一个队列</h3><div class="text-muted small"><p> 问题：如何用两个栈实现一个对列的功能？ 思路：从栈A入队列，从栈B出队列。（队列的2个最重要的操作，入队列，出队列。） 入队列：从栈A入队列。 出队列：分两种情况 如果栈B不为空，直接弹出。 如果栈B为空，将栈A中的数据全部弹入栈B中，再从栈B弹出数据 代码实现如下： //2个栈实现一个队列 #include&lt;stack&...</p></div></div></a></div><div class="card"> <a href="/superLish.github.io/posts/%E5%A0%86/"><div class="card-body"> <span class="timeago small" > Jun 1, 2020 <i class="unloaded">2020-06-01T08:55:00+08:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>堆</h3><div class="text-muted small"><p> 堆 堆是一种特别的树状数据结构。若满足以下特性，即可称为堆：“给定堆中任意节点P和C，若P是C的父节点，那么P的值会小于等于（或大于等于）C的值”。若父节点的值恒小于等于子节点的值，此堆称为最小堆；反之，称为最大堆。 通常最用的是二叉堆，为二叉树的一种，有以下性质： 任意节点小于等于（或大于等于）它的子节点，最小元（或最大元）在堆的根上。 堆总是一颗完全树。即除了最底层，其他层的...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/superLish.github.io/posts/ECIES%E8%AF%A6%E8%A7%A3/" class="btn btn-outline-primary" prompt="Older"><p>ECIES详解</p></a> <a href="/superLish.github.io/posts/AVL%E6%A0%91/" class="btn btn-outline-primary" prompt="Newer"><p>AVL树</p></a></div></div></div></div><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center"><div class="footer-left"><p class="mb-0"> © 2021 <a href="https://github.com/superLish">lisheng</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><h4 class="text-muted mb-4">Trending Tags</h4><a class="post-tag" href="/superLish.github.io/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/">数据结构</a> <a class="post-tag" href="/superLish.github.io/tags/rust/">Rust</a> <a class="post-tag" href="/superLish.github.io/tags/crypto/">crypto</a> <a class="post-tag" href="/superLish.github.io/tags/blockchain/">Blockchain</a> <a class="post-tag" href="/superLish.github.io/tags/tcp-ip/">TCP/IP</a> <a class="post-tag" href="/superLish.github.io/tags/elk/">ELK</a> <a class="post-tag" href="/superLish.github.io/tags/%E5%88%86%E5%B8%83%E5%BC%8F/">分布式</a> <a class="post-tag" href="/superLish.github.io/tags/linux/">linux</a> <a class="post-tag" href="/superLish.github.io/tags/c/">C</a> <a class="post-tag" href="/superLish.github.io/tags/ethereum/">Ethereum</a></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.7.3/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/superLish.github.io/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="https://superLish.github.io{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script>
